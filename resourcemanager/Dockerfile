FROM hadoop-base

ARG RESOURCE_MANAGER_PORT=8088
ARG RESOURCE_MANAGER_TRACKER_PORT=8031
ARG RESOURCE_MANAGER_ADDRESS_PORT=8032
ARG RESOURCE_MANAGER_SCHEDULER_PORT=8030

HEALTHCHECK CMD curl -f http://localhost:$RESOURCE_MANAGER_PORT/ || exit 105
EXPOSE $RESOURCE_MANAGER_PORT $RESOURCE_MANAGER_TRACKER_PORT \
       $RESOURCE_MANAGER_SCHEDULER_PORT $RESOURCE_MANAGER_ADDRESS_PORT

CMD $HADOOP_HOME/bin/yarn resourcemanager
